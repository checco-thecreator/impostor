<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi √® l'Impostore?</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7425121195660181"
     crossorigin="anonymous"></script>
    <style>
        :root{--primary-purple:#7B2CBF;--secondary-blue:#00A8E8;--hot-orange:#FF6B35;--accent-yellow:#F7B801;--bg-dark:#240046;--bg-light:#F4F4F9;--text-light:#FFFFFF;--font-main:'Lilita One',cursive;--danger-red:#E63946}
        @keyframes bg-pan{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
        @keyframes glow{0%,100%{box-shadow:0 0 15px 5px var(--accent-yellow)}50%{box-shadow:0 0 25px 10px var(--accent-yellow)}}
        @keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px) rotate(-2deg)}75%{transform:translateX(5px) rotate(2deg)}}
        *{box-sizing:border-box;margin:0;padding:0}
        
        /* <-- MODIFICA: Ripristino il layout scorrevole sul vecchio design --> */
        body{
            font-family:var(--font-main);
            background:linear-gradient(-45deg,var(--primary-purple),var(--bg-dark),var(--secondary-blue));
            background-size:400% 400%;
            animation:bg-pan 15s ease infinite;
            display:flex;
            justify-content:center;
            align-items:flex-start; /* Allinea all'inizio per permettere lo scroll */
            min-height:100vh;
            color:var(--text-light);
            overflow-y: auto; /* Permette lo scroll se il contenuto √® troppo */
        }
        .container{
            width:100%;
            max-width:500px;
            padding:20px;
            display:flex;
            flex-direction:column;
            position:relative;
        }
        /* <-- MODIFICA: Le schermate non sono pi√π in posizione assoluta --> */
        .screen{
            display:none;
            flex-direction:column;
            justify-content:center;
            align-items:center;
            text-align:center;
            width:100%;
            opacity:0;
            transition:opacity .5s ease-in-out,transform .5s ease-in-out;
            transform:scale(.95);
        }
        .screen.active{display:flex;opacity:1;transform:scale(1)}
        #game-screen { justify-content: flex-start; min-height: 80vh; }
        h1,h2,h3{text-shadow:2px 2px 4px rgba(0,0,0,.5)}
        h1{font-size:clamp(3rem,12vw,5rem);color:var(--accent-yellow)}
        h2{font-size:clamp(2rem,8vw,3rem);color:var(--text-light)}
        p{font-size:1.2rem;color:#ddd}
        .btn{font-family:var(--font-main);font-size:1.8rem;padding:15px 30px;border-radius:50px;border:4px solid var(--bg-dark);box-shadow:0 8px 0 var(--bg-dark);cursor:pointer;transition:all .1s ease-in-out;margin-top:20px;width:100%;max-width:300px}
        .btn:active{transform:translateY(4px);box-shadow:0 4px 0 var(--bg-dark)}
        .btn-primary{background-color:var(--hot-orange);color:var(--text-light)}
        .btn-secondary{background-color:var(--secondary-blue);color:var(--text-light)}
        .btn-danger{background-color:var(--danger-red);color:var(--text-light);font-size:1.2rem;padding:10px 20px}
        .card{background:rgba(0,0,0,.25);border-radius:20px;padding:20px;width:100%;margin-bottom:20px;border:2px solid rgba(255,255,255,.2)}
        input,select{font-family:var(--font-main);width:100%;padding:15px;border-radius:15px;border:none;font-size:1.5rem;background:var(--bg-light);color:var(--bg-dark);text-align:center}
        .avatar-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:15px}
        .avatar{width:100%;aspect-ratio:1/1;border-radius:50%;cursor:pointer;border:5px solid transparent;transition:all .2s;background:rgba(255,255,255,.1)}
        .avatar:hover{transform:scale(1.1)}
        .avatar.selected{border-color:var(--accent-yellow);transform:scale(1.1)}
        #player-grid, #game-player-grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:15px;width:100%;margin:20px 0}
        .player-card{text-align:center}
        .player-card .avatar{border-color:var(--secondary-blue);margin-bottom:5px}
        .player-card .nickname{font-size:1.2rem;background:var(--bg-dark);padding:2px 8px;border-radius:10px}
        .player-card.is-turn .avatar{animation:glow 1.5s infinite}
        #clues-area{width:100%;flex-grow:1;background:rgba(0,0,0,.3);border-radius:15px;padding:15px;margin:15px 0;overflow-y:auto;display:flex;flex-direction:column-reverse;min-height: 200px;}
        #clues-container { display: flex; flex-direction: column; }
        .clue{display:flex;align-items:center;margin-top:10px;background:rgba(0,0,0,.2);padding:5px 10px;border-radius:10px;animation:fadeIn .3s}
        .clue .avatar{width:30px;height:30px;margin-right:10px;border:none;flex-shrink:0}
        .clue-word{font-size:1.5rem;color:var(--accent-yellow)}
        .modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);backdrop-filter:blur(5px);display:none;justify-content:center;align-items:center;z-index:1000;opacity:0;transition:opacity .3s}
        .modal.active{display:flex;opacity:1}
        .modal-content{background:linear-gradient(135deg,var(--hot-orange),var(--primary-purple));border-radius:25px;border:4px solid var(--bg-dark);padding:30px;text-align:center;width:90%;max-width:450px}
        #vote-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px}
        #vote-grid .player-card{cursor:pointer;transition:transform .2s}
        #vote-grid .player-card:hover{transform:scale(1.05)}
        /* <-- MODIFICA: Footer rimesso alla fine e non fisso --> */
        .footer-credits { 
            width: 100%;
            text-align: center;
            padding: 20px 0; /* Aggiunto padding per staccarlo dal fondo */
            font-size: 0.9rem;
            opacity: 0.6;
            color: var(--text-light);
            text-shadow: 1px 1px 2px var(--bg-dark);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Home Screen -->
        <section id="home-screen" class="screen active">
            <h1>Chi √® l'Impostore?</h1>
            <p>üïµÔ∏è‚Äç‚ôÇÔ∏è Raduna i tuoi amici e scopri il bugiardo! üîç</p>
            <div class="card"><label for="nickname" style="text-align:center;font-size:1.5rem;margin-bottom:10px">Il tuo Nickname</label><input type="text" id="nickname" placeholder="CapitanMistero"></div>
            <div class="card"><label style="text-align:center;font-size:1.5rem;margin-bottom:10px">Scegli il tuo Avatar</label><div id="avatar-selection" class="avatar-grid"></div></div>
            <button id="btn-create-lobby" class="btn btn-primary">Crea Lobby</button>
            <button id="btn-join-lobby" class="btn btn-secondary">Unisciti</button>
        </section>
        
        <!-- Altre schermate... (la struttura HTML rimane la stessa del vecchio design) -->
        <section id="lobby-screen" class="screen">
            <h2>Lobby di <span id="host-name"></span></h2>
            <div class="card"><p>Codice Lobby:</p><h3 id="lobby-code" style="font-size:3rem;color:var(--accent-yellow);cursor:pointer">CODE</h3></div>
            <div id="player-grid"></div>
            <button id="btn-start-game" class="btn btn-primary">Avvia Partita!</button>
        </section>
        <section id="game-screen" class="screen">
            <div id="game-player-grid"></div>
            <div class="card" id="word-card"><p>La tua parola segreta √®:</p><h3 id="secret-word" style="font-size:2.5rem;color:var(--accent-yellow)">*****</h3></div>
            <div id="clues-area"><div id="clues-container"></div></div>
            <div class="card" id="clue-input-area"><h2 id="turn-indicator">√à il turno di...</h2><input type="text" id="clue-input" placeholder="Scrivi un indizio..."><button id="btn-submit-clue" class="btn btn-secondary">Invia Indizio</button></div>
            <button id="btn-impostor-guess" class="btn btn-danger" style="display:none">üö® Tenta la Sorte! üö®</button>
        </section>

        <!-- Footer messo alla fine del container per essere in fondo al flusso -->
        <footer class="footer-credits">Creato con ‚ù§Ô∏è da Checco</footer>
    </div>
    
    <!-- Modals (la loro struttura interna non cambia) -->
    <div id="join-modal" class="modal">...</div>
    <div id="vote-modal" class="modal">...</div>
    <div id="impostor-guess-modal" class="modal">...</div>
    <div id="game-over-modal" class="modal">...</div>
    
    <script src="/socket.io/socket.io.js"></script>
    <script>
        // Il tuo JavaScript rimane identico alla versione precedente.
        // Lo ometto qui per brevit√†, ma non devi cambiarlo.
    </script>
</body>
</html>